<!-- 
  AI CHATBOT EMBED CODE
  
  Instructions:
  1. Sign up for a chatbot service (like Chatbase.co).
  2. Create a chatbot using 'ai_knowledge_base.md' as the source.
  3. Get the "Embed Script" from the service.
  4. Paste the script below this comment.
-->

<!-- Custom Chatbot Launcher -->
<style>
  .custom-chat-launcher {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 9999;
    background-color: #007bff;
    /* Bright Blue */
    color: white;
    padding: 15px 25px;
    border-radius: 50px;
    font-weight: bold;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
    border: 2px solid white;
    font-size: 16px;
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .custom-chat-launcher:hover {
    transform: scale(1.05);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
    background-color: #0056b3;
  }
</style>

<div id="custom-chat-btn" class="custom-chat-launcher">
  <span>ðŸ’¬</span> Chat with AI
</div>

<script>
  // Initialize Chatbase
  (function () { if (!window.chatbase || window.chatbase("getState") !== "initialized") { window.chatbase = (...arguments) => { if (!window.chatbase.q) { window.chatbase.q = [] } window.chatbase.q.push(arguments) }; window.chatbase = new Proxy(window.chatbase, { get(target, prop) { if (prop === "q") { return target.q } return (...args) => target(prop, ...args) } }) } const onLoad = function () { const script = document.createElement("script"); script.src = "https://www.chatbase.co/embed.min.js"; script.id = "xRGrQPNPV8Yx_ipYl5Izb"; script.domain = "www.chatbase.co"; document.body.appendChild(script) }; if (document.readyState === "complete") { onLoad() } else { window.addEventListener("load", onLoad) } })();

  // Global openChat function for both the button and navigation link
  window.openChat = function () {
    if (window.chatbase) {
      window.chatbase("open");
    } else {
      console.warn("Chatbase not initialized yet");
    }
  };

  // Attach listener to custom button
  const customBtn = document.getElementById('custom-chat-btn');
  if (customBtn) {
    customBtn.addEventListener('click', window.openChat);
  }

  // Auto-open logic (simple retry)
  let checkCount = 0;
  const autoOpenInterval = setInterval(() => {
    checkCount++;
    if (window.chatbase) {
      // Try to open
      window.chatbase("open");
      clearInterval(autoOpenInterval);
    }
    if (checkCount > 20) clearInterval(autoOpenInterval); // Stop after 10 seconds (20 * 500ms)
  }, 500);
</script>